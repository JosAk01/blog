<link rel="stylesheet" href="/css/styles.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<link href="https://unicons.iconscout.com/release/v4.0.8/css/line.css" rel="stylesheet">
<!-- Modern Blog Header -->
<style>
  .blog-header {
    position: sticky;
    top: 0;
    z-index: 1000;
    background: #ffffff;
    border-bottom: 1px solid #e9eaf3;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  }

  .blog-header .header-container {
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px 24px;
    gap: 20px;
  }

  .blog-brand {
    display: flex;
    align-items: center;
    gap: 12px;
    text-decoration: none;
    transition: transform 0.2s;
  }

  .blog-brand:hover {
    transform: translateY(-2px);
  }

  .blog-logo {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    background: linear-gradient(135deg, #5a5df5, #9a6bff);
    display: grid;
    place-items: center;
    color: white;
    font-weight: 800;
    font-size: 20px;
    box-shadow: 0 4px 12px rgba(90, 93, 245, 0.3);
  }

  .blog-brand-text {
    font-size: 20px;
    font-weight: 800;
    letter-spacing: 0.02em;
    background: linear-gradient(135deg, #5a5df5, #9a6bff);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  .blog-nav {
    display: flex;
    align-items: center;
    gap: 32px;
    flex: 1;
    justify-content: center;
  }

  .blog-nav a {
    text-decoration: none;
    color: #5c6074;
    font-weight: 600;
    font-size: 15px;
    padding: 8px 16px;
    border-radius: 8px;
    transition: all 0.3s;
    position: relative;
  }

  .blog-nav a:hover {
    color: #5a5df5;
    background: #eef0ff;
  }

  .blog-nav a.active {
    color: #5a5df5;
    background: #eef0ff;
  }

  .blog-nav a.active::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 16px;
    right: 16px;
    height: 2px;
    background: linear-gradient(90deg, #5a5df5, #9a6bff);
    border-radius: 2px;
  }

  .header-actions {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .user-menu {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 16px;
    background: #f7f7fb;
    border-radius: 12px;
    border: 1px solid #e9eaf3;
  }

  .user-avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: linear-gradient(135deg, #5a5df5, #9a6bff);
    display: grid;
    place-items: center;
    color: white;
    font-weight: 700;
    font-size: 14px;
  }

  .user-name {
    font-weight: 600;
    color: #0b1020;
    font-size: 14px;
  }

  .header-btn {
    padding: 10px 20px;
    border-radius: 10px;
    font-weight: 600;
    font-size: 14px;
    text-decoration: none;
    transition: all 0.3s;
    border: none;
    cursor: pointer;
  }

  .btn-login {
    background: transparent;
    color: #5a5df5;
    border: 1px solid #e9eaf3;
  }

  .btn-login:hover {
    background: #eef0ff;
    border-color: #5a5df5;
  }

  .btn-signup {
    background: linear-gradient(135deg, #5a5df5, #9a6bff);
    color: white;
    box-shadow: 0 4px 12px rgba(90, 93, 245, 0.3);
  }

  .btn-signup:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(90, 93, 245, 0.4);
  }

  .btn-logout {
    background: #f7f7fb;
    color: #5c6074;
    border: 1px solid #e9eaf3;
  }

  .btn-logout:hover {
    background: #ffe1e1;
    color: #e74c3c;
    border-color: #e74c3c;
  }

  .mobile-menu-btn {
    display: none;
    width: 40px;
    height: 40px;
    border: 1px solid #e9eaf3;
    background: transparent;
    border-radius: 10px;
    cursor: pointer;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 5px;
  }

  .mobile-menu-btn span {
    display: block;
    width: 20px;
    height: 2px;
    background: #0b1020;
    border-radius: 2px;
    transition: all 0.3s;
  }

  .mobile-menu-btn.active span:nth-child(1) {
    transform: rotate(45deg) translate(5px, 5px);
  }

  .mobile-menu-btn.active span:nth-child(2) {
    opacity: 0;
  }

  .mobile-menu-btn.active span:nth-child(3) {
    transform: rotate(-45deg) translate(7px, -6px);
  }

  /* Responsive */
  @media (max-width: 968px) {
    .blog-nav {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      flex-direction: column;
      padding: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      display: none;
      gap: 8px;
    }

    .blog-nav.active {
      display: flex;
    }

    .blog-nav a {
      width: 100%;
      text-align: center;
      padding: 12px;
    }

    .mobile-menu-btn {
      display: flex;
    }

    .header-actions {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      flex-direction: column;
      padding: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      display: none;
      margin-top: 1px;
    }

    .header-actions.active {
      display: flex;
    }

    .user-menu {
      width: 100%;
      justify-content: center;
    }

    .header-btn {
      width: 100%;
      text-align: center;
    }
  }

  @media (max-width: 640px) {
    .blog-header .header-container {
      padding: 12px 16px;
    }

    .blog-brand-text {
      display: none;
    }
  }
</style>

<header class="blog-header">
  <div class="header-container">
    <!-- Brand -->
    <a href="/" class="blog-brand">
      <div class="blog-logo">B</div>
      <span class="blog-brand-text">BlogHub</span>
    </a>

    <!-- Navigation -->
    <nav class="blog-nav" id="blogNav">
      <a href="/" class="<%= typeof currentPage !== 'undefined' && currentPage === 'home' ? 'active' : '' %>">Home</a>
      <% if (session.user) { %>
        <% if (session.user.role === 'admin') { %>
          <a href="/admin" class="<%= typeof currentPage !== 'undefined' && currentPage === 'admin' ? 'active' : '' %>">Dashboard</a>
        <% } else if (session.user.role === 'author') { %>
          <a href="/author" class="<%= typeof currentPage !== 'undefined' && currentPage === 'author' ? 'active' : '' %>">My Posts</a>
        <% } else { %>
          <a href="/user" class="<%= typeof currentPage !== 'undefined' && currentPage === 'user' ? 'active' : '' %>">Explore</a>
        <% } %>
      <% } %>
      <a href="/#featured">Featured</a>
      <a href="/#categories">Categories</a>
    </nav>

    <!-- Actions -->
    <div class="header-actions" id="headerActions">
      <% if (session.user) { %>
        <div class="user-menu">
          <div class="user-avatar"><%= session.user.name.charAt(0).toUpperCase() %></div>
          <span class="user-name"><%= session.user.name %></span>
        </div>
        <a href="/logout" class="header-btn btn-logout">
          <i class="fas fa-sign-out-alt"></i> Logout
        </a>
      <% } else { %>
        <a href="/login" class="header-btn btn-login">Login</a>
        <a href="/signup" class="header-btn btn-signup">Get Started</a>
      <% } %>
    </div>

    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" id="mobileMenuBtn">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>
</header>

<script>
  // Mobile menu toggle
  const mobileMenuBtn = document.getElementById('mobileMenuBtn');
  const blogNav = document.getElementById('blogNav');
  const headerActions = document.getElementById('headerActions');

  if (mobileMenuBtn) {
    mobileMenuBtn.addEventListener('click', () => {
      mobileMenuBtn.classList.toggle('active');
      blogNav.classList.toggle('active');
      headerActions.classList.toggle('active');
    });
  }

  // Close mobile menu when clicking outside
  document.addEventListener('click', (e) => {
    if (!e.target.closest('.blog-header')) {
      mobileMenuBtn?.classList.remove('active');
      blogNav?.classList.remove('active');
      headerActions?.classList.remove('active');
    }
  });
</script>
<div class="content-wrapper">

<style>
  /* Modern Sidebar Styles */
  .sidebar {
    position: fixed;
    top: 90px;
    left: 0;
    height: calc(100vh - 90px);
    width: 260px;
    background: #ffffff;
    border-right: 1px solid #e9eaf3;
    overflow-y: auto;
    overflow-x: hidden;
    box-shadow: 2px 0 12px rgba(0, 0, 0, 0.04);
    z-index: 100;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Custom Scrollbar */
  .sidebar::-webkit-scrollbar {
    width: 6px;
  }

  .sidebar::-webkit-scrollbar-track {
    background: transparent;
  }

  .sidebar::-webkit-scrollbar-thumb {
    background: #d0d5dd;
    border-radius: 10px;
  }

  .sidebar::-webkit-scrollbar-thumb:hover {
    background: #98a2b3;
  }

  /* Sidebar Header */
  .sidebar-header {
    padding: 24px 20px;
    border-bottom: 1px solid #f0f1f5;
    background: linear-gradient(135deg, #f8f9fc 0%, #ffffff 100%);
  }

  .sidebar-user {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .sidebar-avatar {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    background: linear-gradient(135deg, #5a5df5, #9a6bff);
    display: grid;
    place-items: center;
    color: white;
    font-weight: 800;
    font-size: 20px;
    box-shadow: 0 4px 12px rgba(90, 93, 245, 0.25);
  }

  .sidebar-user-info h5 {
    font-size: 15px;
    font-weight: 700;
    color: #0b1020;
    margin: 0;
  }

  .sidebar-user-info h5 a {
    color: inherit;
    text-decoration: none;
    transition: color 0.3s;
  }

  .sidebar-user-info h5 a:hover {
    color: #5a5df5;
  }

  .sidebar-user-role {
    font-size: 12px;
    color: #5c6074;
    margin: 4px 0 0;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  /* Search Box */
  .sidebar-search {
    padding: 16px 20px;
    border-bottom: 1px solid #f0f1f5;
  }

  .sidebar-search-input {
    width: 100%;
    padding: 10px 16px;
    padding-left: 40px;
    border: 1px solid #e9eaf3;
    border-radius: 10px;
    background: #f8f9fc;
    font-size: 14px;
    color: #0b1020;
    transition: all 0.3s;
    position: relative;
  }

  .sidebar-search-wrapper {
    position: relative;
  }

  .sidebar-search-icon {
    position: absolute;
    left: 14px;
    top: 50%;
    transform: translateY(-50%);
    color: #98a2b3;
    font-size: 14px;
  }

  .sidebar-search-input:focus {
    outline: none;
    border-color: #5a5df5;
    background: white;
    box-shadow: 0 4px 12px rgba(90, 93, 245, 0.1);
  }

  .sidebar-search-input::placeholder {
    color: #98a2b3;
  }

  /* Navigation */
  .sidebar-nav {
    padding: 12px 0;
  }

  .sidebar-nav-section {
    margin-bottom: 24px;
  }

  .sidebar-nav-title {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: #98a2b3;
    padding: 12px 20px 8px;
    margin: 0;
  }

  .sidebar-nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .sidebar-nav li {
    margin: 0;
  }

  .sidebar-nav a {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 20px;
    color: #5c6074;
    text-decoration: none;
    font-size: 14px;
    font-weight: 600;
    transition: all 0.3s;
    position: relative;
  }

  .sidebar-nav a i {
    font-size: 18px;
    width: 24px;
    text-align: center;
    transition: transform 0.3s;
  }

  .sidebar-nav a:hover {
    background: #f8f9fc;
    color: #5a5df5;
  }

  .sidebar-nav a:hover i {
    transform: translateX(2px);
  }

  .sidebar-nav a.active {
    background: linear-gradient(90deg, #eef0ff 0%, transparent 100%);
    color: #5a5df5;
    border-left: 3px solid #5a5df5;
    font-weight: 700;
  }

  .sidebar-nav a.active::before {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 3px;
    height: 24px;
    background: linear-gradient(180deg, #5a5df5, #9a6bff);
    border-radius: 0 3px 3px 0;
  }

  /* Logout Button Special Styling */
  .sidebar-nav a.logout-link {
    margin-top: 20px;
    color: #e74c3c;
    border-top: 1px solid #f0f1f5;
    padding-top: 20px;
  }

  .sidebar-nav a.logout-link:hover {
    background: #fff5f5;
    color: #c0392b;
  }

  /* Badge */
  .nav-badge {
    margin-left: auto;
    background: linear-gradient(135deg, #5a5df5, #9a6bff);
    color: white;
    font-size: 10px;
    font-weight: 800;
    padding: 3px 8px;
    border-radius: 12px;
    min-width: 20px;
    text-align: center;
  }

  .nav-badge.warning {
    background: linear-gradient(135deg, #f39c12, #e67e22);
  }

  .nav-badge.success {
    background: linear-gradient(135deg, #27ae60, #2ecc71);
  }

  /* Collapse Toggle */
  .sidebar-collapse {
    display: none;
    position: absolute;
    top: 20px;
    right: -40px;
    width: 32px;
    height: 32px;
    background: white;
    border: 1px solid #e9eaf3;
    border-radius: 8px;
    cursor: pointer;
    align-items: center;
    justify-content: center;
    box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.08);
    transition: all 0.3s;
  }

  .sidebar-collapse:hover {
    background: #5a5df5;
    color: white;
    border-color: #5a5df5;
  }

  /* Responsive */
  @media (max-width: 968px) {
    .sidebar {
      transform: translateX(-100%);
    }

    .sidebar.active {
      transform: translateX(0);
    }

    .sidebar-collapse {
      display: flex;
    }
  }
</style>

<aside class="sidebar" id="mainSidebar">
  <!-- Collapse Button -->
  <button class="sidebar-collapse" id="sidebarToggle">
    <i class="fas fa-bars"></i>
  </button>

  <!-- Sidebar Header with User Info -->
  <div class="sidebar-header">
    <div class="sidebar-user">
      <div class="sidebar-avatar">
        <%= session.user.name.charAt(0).toUpperCase() %>
      </div>
      <div class="sidebar-user-info">
        <h5><a href="#"><%= session.user.name %></a></h5>
        <p class="sidebar-user-role">
          <% if (session.user.role === 'admin') { %>
            Administrator
          <% } else if (session.user.role === 'author') { %>
            Author
          <% } else { %>
            User
          <% } %>
        </p>
      </div>
    </div>
  </div>

  <!-- Search -->
  <div class="sidebar-search">
    <div class="sidebar-search-wrapper">
      <i class="fas fa-search sidebar-search-icon"></i>
      <input 
        type="text" 
        class="sidebar-search-input" 
        placeholder="Search..."
        id="sidebarSearch"
      />
    </div>
  </div>

  <!-- Navigation -->
  <nav class="sidebar-nav">
    <!-- Main Section -->
    <div class="sidebar-nav-section">
      <h6 class="sidebar-nav-title">Main</h6>
      <ul>
        <li>
          <a href="/<%= session.user.role %>" class="<%= typeof currentPage !== 'undefined' && currentPage === 'dashboard' ? 'active' : '' %>">
            <i class="uil uil-estate"></i>
            <span>Dashboard</span>
          </a>
        </li>
        
        <% if (session.user.role === 'admin') { %>
          <li>
            <a href="/admin/users">
              <i class="uil uil-users-alt"></i>
              <span>Manage Users</span>
            </a>
          </li>
          <li>
            <a href="/admin/blogs">
              <i class="uil uil-book"></i>
              <span>Manage Blogs</span>
            </a>
          </li>
        <% } %>

        <% if (session.user.role === 'author') { %>
          <li>
            <a href="/author/create">
              <i class="uil uil-plus-circle"></i>
              <span>Create Post</span>
              <span class="nav-badge success">New</span>
            </a>
          </li>
          <li>
            <a href="/author">
              <i class="uil uil-book-alt"></i>
              <span>My Posts</span>
            </a>
          </li>
        <% } %>

        <% if (session.user.role === 'user') { %>
          <li>
            <a href="/user">
              <i class="uil uil-book-open"></i>
              <span>Explore Blogs</span>
            </a>
          </li>
        <% } %>
      </ul>
    </div>

    <!-- Tools Section -->
    <div class="sidebar-nav-section">
      <h6 class="sidebar-nav-title">Tools</h6>
      <ul>
        <li>
          <a href="/calendar">
            <i class="uil uil-calendar-alt"></i>
            <span>Calendar</span>
          </a>
        </li>
        <% if (session.user.role !== 'user') { %>
          <li>
            <a href="#">
              <i class="uil uil-chart-pie-alt"></i>
              <span>Analytics</span>
            </a>
          </li>
        <% } %>
        <li>
          <a href="/map">
            <i class="uil uil-map-marker"></i>
            <span>Maps</span>
          </a>
        </li>
      </ul>
    </div>

    <!-- Settings Section -->
    <div class="sidebar-nav-section">
      <h6 class="sidebar-nav-title">Settings</h6>
      <ul>
        <li>
          <a href="/settings">
            <i class="uil uil-setting"></i>
            <span>Settings</span>
          </a>
        </li>
        <li>
          <a href="#" id="themeToggle">
            <i class="uil uil-moon"></i>
            <span>Dark Mode</span>
          </a>
        </li>
        <li>
          <a href="/logout" class="logout-link">
            <i class="fas fa-sign-out-alt"></i>
            <span>Logout</span>
          </a>
        </li>
      </ul>
    </div>
  </nav>
</aside>

<script>
  // Sidebar toggle for mobile
  const sidebarToggle = document.getElementById('sidebarToggle');
  const mainSidebar = document.getElementById('mainSidebar');

  if (sidebarToggle) {
    sidebarToggle.addEventListener('click', () => {
      mainSidebar.classList.toggle('active');
    });
  }

  // Close sidebar when clicking outside on mobile
  document.addEventListener('click', (e) => {
    if (window.innerWidth <= 968) {
      if (!e.target.closest('.sidebar') && !e.target.closest('.sidebar-collapse')) {
        mainSidebar?.classList.remove('active');
      }
    }
  });

  // Search functionality
  const sidebarSearch = document.getElementById('sidebarSearch');
  if (sidebarSearch) {
    sidebarSearch.addEventListener('input', (e) => {
      const searchTerm = e.target.value.toLowerCase();
      const navLinks = document.querySelectorAll('.sidebar-nav a');
      
      navLinks.forEach(link => {
        const text = link.textContent.toLowerCase();
        const listItem = link.parentElement;
        
        if (text.includes(searchTerm)) {
          listItem.style.display = 'block';
        } else {
          listItem.style.display = 'none';
        }
      });

      // Show/hide section titles
      document.querySelectorAll('.sidebar-nav-section').forEach(section => {
        const visibleLinks = section.querySelectorAll('li[style="display: block;"], li:not([style])');
        if (visibleLinks.length === 0 || (searchTerm && visibleLinks.length === 0)) {
          section.style.display = 'none';
        } else {
          section.style.display = 'block';
        }
      });
    });
  }

  // Theme toggle (optional)
  const themeToggle = document.getElementById('themeToggle');
  if (themeToggle) {
    themeToggle.addEventListener('click', (e) => {
      e.preventDefault();
      document.body.classList.toggle('dark');
      const icon = themeToggle.querySelector('i');
      if (document.body.classList.contains('dark')) {
        icon.className = 'uil uil-sun';
        localStorage.setItem('theme', 'dark');
      } else {
        icon.className = 'uil uil-moon';
        localStorage.setItem('theme', 'light');
      }
    });

    // Load saved theme
    if (localStorage.getItem('theme') === 'dark') {
      document.body.classList.add('dark');
      themeToggle.querySelector('i').className = 'uil uil-sun';
    }
  }

  // Highlight active page
  const currentPath = window.location.pathname;
  document.querySelectorAll('.sidebar-nav a').forEach(link => {
    if (link.getAttribute('href') === currentPath) {
      link.classList.add('active');
    }
  });
</script>
  <div class="main-content">
    <!-- Welcome Message -->
    <div class="welcome">
      <h1>Admin Dashboard</h1>
      <p>Hello <%= session.user.name %>, manage your blog platform here!</p>
    </div>
  
    <!-- Metrics Section with Real Stats -->
    <div class="metrics">
      <div class="metric-card email">
        <div class="icon">
          <i class="fas fa-users"></i>
        </div>
        <div>
          <h3><%= stats.total_users %> Users</h3>
          <p>Total registered users</p>
        </div>
      </div>
      <div class="metric-card projects">
        <div class="icon">
          <i class="fas fa-book"></i>
        </div>
        <div>
          <h3><%= stats.total_blogs %> Blogs</h3>
          <p>All blog posts</p>
        </div>
      </div>
      <div class="metric-card users">
        <div class="icon">
          <i class="fas fa-check-circle"></i>
        </div>
        <div>
          <h3><%= stats.published_blogs %> Published</h3>
          <p>Live blog posts</p>
        </div>
      </div>
      <div class="metric-card users">
        <div class="icon">
          <i class="fas fa-comments"></i>
        </div>
        <div>
          <h3><%= stats.total_comments %> Comments</h3>
          <p>Total user comments</p>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div style="margin: 2rem 0; display: flex; gap: 1rem;">
      <a href="/admin/users" style="padding: 1rem 2rem; background: #3498db; color: white; text-decoration: none; border-radius: 5px; display: inline-flex; align-items: center; gap: 0.5rem;">
        <i class="fas fa-users"></i> Manage Users
      </a>
      <a href="/admin/blogs" style="padding: 1rem 2rem; background: #27ae60; color: white; text-decoration: none; border-radius: 5px; display: inline-flex; align-items: center; gap: 0.5rem;">
        <i class="fas fa-book"></i> Manage Blogs
      </a>
    </div>
  
    <!-- Charts Section -->
    <div class="charts">
      <div class="chart">
        <h3>Monthly Activity</h3>
        <p>User activity over the months</p>
        <div>
          <canvas id="myChart"></canvas>
        </div>
        
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        
        <script>
          const ctx = document.getElementById('myChart');
        
          new Chart(ctx, {
            type: 'bar',
            data: {
              labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September'],
              datasets: [{
                label: 'New Users',
                data: [12, 19, 3, 5, 2, 3, 7, 14, 8],
                backgroundColor: "#0d6efd",
                borderColor: 'transparent',
                borderWidth: 2.5,
                barPercentage: 0.4,
              }, {
                label: "New Blogs",
                startAngle: 2,
                data: [20, 40, 20, 50, 25, 40, 25, 10, 30],
                backgroundColor: "#dc3545",
                borderColor: 'transparent',
                borderWidth: 2.5,
                barPercentage: 0.4,
              }]
            },
            options: {
              scales: {
                yAxes: [{
                  gridLines: {},
                  ticks: {
                    stepSize: 15,
                  },
                }],
                xAxes: [{
                  gridLines: {
                    display: false,
                  }
                }]
              }
            }
          });
        </script>
        
      </div>
      <div class="chart">
        <h3>Blog Performance</h3>
        <p>Engagement trends</p>
        <div>
          <canvas id="myChart2"></canvas>
        </div>
        
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        
        <script>
          const ctx2 = document.getElementById('myChart2');
        
          new Chart(ctx2, {
            type: 'line',
            data: {
              labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September'],
              datasets: [{
                label: 'Likes',
                data: [12, 19, 13, 25, 22, 33, 37, 44, 52],
                backgroundColor: 'transparent',
                borderColor: '#0d6efd',
                lineTension: .4,
                borderWidth: 1.5,
              }, {
                label: "Comments",
                data: [6, 10, 8, 15, 12, 18, 21, 25, 28],
                backgroundColor: 'transparent',
                borderColor: '#f0ad4e',
                lineTension: .4,
                borderWidth: 1.5,
              }]
            },
            options: {
              scales: {
                yAxes: [{
                  gridLines: {
                    drawBorder: false
                  },
                  ticks: {
                    stepSize: 12,
                  }
                }],
                xAxes: [{
                  gridLines: {
                    display: false,
                  },
                }]
              }
            }
          });
        </script>
      </div>
    </div>
  
    <!-- System Info Section -->
    <div class="six-boxes">
      <div class="box">
        <div class="admin">
          <div class="icon" style="font-size: 3rem; color: #3498db; margin-bottom: 1rem;">
            <i class="fas fa-shield-alt"></i>
          </div>
          <div class="details">
            <h3>System Admin</h3>
            <p>Full platform control and oversight</p>
          </div>
        </div>
      </div>
      <div class="box" style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 1.5rem;">
        <i class="fas fa-users" style="font-size: 2.5rem; color: #27ae60; margin-bottom: 0.5rem;"></i>
        <h3 style="margin: 0.5rem 0;"><%= stats.total_users %></h3>
        <p style="margin: 0; color: #7f8c8d;">Total Users</p>
      </div>
      <div class="box" style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 1.5rem;">
        <i class="fas fa-book" style="font-size: 2.5rem; color: #e74c3c; margin-bottom: 0.5rem;"></i>
        <h3 style="margin: 0.5rem 0;"><%= stats.total_blogs %></h3>
        <p style="margin: 0; color: #7f8c8d;">Total Blogs</p>
      </div>
      <div class="box" style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 1.5rem;">
        <i class="fas fa-check-circle" style="font-size: 2.5rem; color: #f39c12; margin-bottom: 0.5rem;"></i>
        <h3 style="margin: 0.5rem 0;"><%= stats.published_blogs %></h3>
        <p style="margin: 0; color: #7f8c8d;">Published</p>
      </div>
      <div class="box" style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 1.5rem;">
        <i class="fas fa-comments" style="font-size: 2.5rem; color: #9b59b6; margin-bottom: 0.5rem;"></i>
        <h3 style="margin: 0.5rem 0;"><%= stats.total_comments %></h3>
        <p style="margin: 0; color: #7f8c8d;">Comments</p>
      </div>
      <div class="box" style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 1.5rem;">
        <i class="fas fa-cog" style="font-size: 2.5rem; color: #34495e; margin-bottom: 0.5rem;"></i>
        <a href="/admin/users" style="text-decoration: none; color: #3498db; font-weight: bold;">Manage System</a>
      </div>
    </div>    
    
  
    <!-- Stats Section -->
    <div class="stats">
      <div class="stat page-views">
        <div class="icon">
          <i class="fas fa-book"></i>
        </div>
        <div>
          <h3><%= stats.total_blogs %></h3>
          <p>Total blog posts</p>
        </div>
      </div>
      <div class="stat user-registered">
        <div class="icon">
          <i class="fas fa-user-check"></i>
        </div>
        <div>
          <h3><%= stats.total_users %></h3>
          <p>Registered users</p>
        </div>
      </div>
      <div class="stat product-sales">
        <div class="icon">
          <i class="fas fa-check-circle"></i>
        </div>
        <div>
          <h3><%= stats.published_blogs %></h3>
          <p>Published blogs</p>
        </div>
      </div>
      <div class="stat transactions">
        <div class="icon">
          <i class="fas fa-comments"></i>
        </div>
        <div>
          <h3><%= stats.total_comments %></h3>
          <p>User comments</p>
        </div>
      </div>
    </div>

    <div class="lastchart">
      <h3>User Engagement Trends</h3>
      <p>Track platform activity over time</p>
      <div>
        <canvas id="myChart3"></canvas>
      </div>
      
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      
      <script>
        const ctx3 = document.getElementById('myChart3').getContext('2d');

        new Chart(ctx3, {
          type: 'line',
          data: {
            labels: ["Week 1", "Week 2", "Week 3", "Week 4", "Week 5", "Week 6", "Week 7", "Week 8"],
            datasets: [
              {
                label: "New Users",
                lineTension: 0.2,
                borderColor: '#d9534f',
                borderWidth: 1.5,
                showLine: true,
                data: [3, 8, 12, 18, 22, 28, 32, 40],
                backgroundColor: 'transparent',
              },
              {
                label: "Active Authors",
                lineTension: 0.2,
                borderColor: '#5cb85c',
                borderWidth: 1.5,
                data: [2, 4, 6, 8, 10, 14, 18, 22],
                backgroundColor: 'transparent',
              },
              {
                label: "New Blogs",
                lineTension: 0.2,
                borderColor: '#f0ad4e',
                borderWidth: 1.5,
                data: [5, 12, 18, 22, 28, 35, 40, 48],
                backgroundColor: 'transparent',
              },
              {
                label: "Comments",
                lineTension: 0.2,
                borderColor: '#337ab7',
                borderWidth: 1.5,
                data: [8, 15, 20, 28, 35, 42, 50, 60],
                backgroundColor: 'transparent',
              }
            ]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              y: {
                grid: {
                  drawBorder: false,
                },
                ticks: {
                  stepSize: 12,
                },
              },
              x: {
                grid: {
                  display: false,
                },
              },
            },
          },
        });
      </script>
    </div>
  </div>
</div>

<script src="/js/header.js"></script>